<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EventHub - Join Our Community</title>

    <!-- Bootstrap 5.3 CSS (Latest) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- Bootstrap Icons (Latest) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <!-- EventHub Header - From navbar.html -->
    <nav class="navbar navbar-expand-lg eventhub-navbar">
        <div class="container-fluid px-4">
            <!-- Brand Logo -->
            <a class="navbar-brand eventhub-brand d-flex align-items-center" href="index.html">
                <div class="brand-icon me-2">
                    <i class="bi bi-calendar-event me-1"></i>
                </div>
                <span class="brand-text">EventHub</span>
            </a>

            <!-- Mobile Toggle Button -->
            <button class="navbar-toggler custom-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navigation Items -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- Left Navigation -->
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link eventhub-nav-link" href="index.html">
                            <i class="bi bi-house-fill me-1"></i>
                            Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link eventhub-nav-link" href="event-listing.html">
                            <i class="bi bi-calendar3 me-1"></i>Events
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link eventhub-nav-link dropdown-toggle" href="#" id="categoriesDropdown"
                            role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-grid-3x3-gap me-1"></i>
                            Categories
                        </a>
                        <ul class="dropdown-menu eventhub-dropdown" aria-labelledby="categoriesDropdown">
                            <li><a class="dropdown-item" href="event-listing.html?category=music"><i
                                        class="bi bi-music-note me-2"></i>Music</a></li>
                            <li><a class="dropdown-item" href="event-listing.html?category=sports"><i
                                        class="bi bi-trophy me-2"></i>Sports</a></li>
                            <li><a class="dropdown-item" href="event-listing.html?category=arts"><i
                                        class="bi bi-palette me-2"></i>Arts & Culture</a>
                            </li>
                            <li><a class="dropdown-item" href="event-listing.html?category=business"><i
                                        class="bi bi-briefcase me-2"></i>Business</a></li>
                            <li><a class="dropdown-item" href="event-listing.html?category=food"><i
                                        class="bi bi-cup-hot me-2"></i>Food & Drink</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link eventhub-nav-link" href="about.html">
                            <i class="bi bi-info-circle me-1"></i>About
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link eventhub-nav-link" href="contact.html">
                            <i class="bi bi-envelope me-1"></i>Contact
                        </a>
                    </li>
                </ul>

                <!-- Right Navigation - Auth Buttons -->
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="btn eventhub-btn-login me-2" href="login.html">
                            <i class="bi bi-box-arrow-in-right me-1"></i>
                            LOGIN
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="btn eventhub-btn-signup active" href="register.html">
                            <i class="bi bi-person-plus me-1"></i>
                            SIGN UP
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Registration Hero Section -->
    <section class="registration-hero">
        <div class="container">
            <div class="row align-items-center min-vh-80">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <h1 class="hero-title">Join the <span class="gradient-text">EventHub</span> Community</h1>
                        <p class="hero-subtitle">Create your account and start discovering amazing events, or organize
                            your own and reach thousands of potential attendees.</p>

                        <!-- Role Selection -->
                        <div class="role-selector mb-4">
                            <h5 class="role-title">Choose Your Role:</h5>
                            <div class="role-options">
                                <div class="role-option active" data-role="customer" onclick="selectRole('customer')">
                                    <div class="role-icon">
                                        <i class="bi bi-person-heart"></i>
                                    </div>
                                    <div class="role-info">
                                        <h6>Event Goer</h6>
                                        <p>Discover and book amazing events</p>
                                    </div>
                                </div>
                                <div class="role-option" data-role="organizer" onclick="selectRole('organizer')">
                                    <div class="role-icon">
                                        <i class="bi bi-megaphone"></i>
                                    </div>
                                    <div class="role-info">
                                        <h6>Event Organizer</h6>
                                        <p>Create and manage your events</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Benefits List -->
                        <div class="benefits-list" id="benefitsList">
                            <!-- Benefits will be populated based on selected role -->
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="registration-form-container">
                        <!-- Registration Form -->
                        <div class="registration-form-card">
                            <div class="form-header">
                                <h3 class="form-title">Create Your Account</h3>
                                <p class="form-subtitle">Join thousands of event enthusiasts</p>
                            </div>

                            <form id="registrationForm" onsubmit="submitRegistration(event)">
                                <!-- Step Indicator -->
                                <div class="step-indicator">
                                    <div class="step active" data-step="1">
                                        <span class="step-number">1</span>
                                        <span class="step-label">Basic Info</span>
                                    </div>
                                    <div class="step" data-step="2">
                                        <span class="step-number">2</span>
                                        <span class="step-label">Profile</span>
                                    </div>
                                    <div class="step" data-step="3">
                                        <span class="step-number">3</span>
                                        <span class="step-label">Verify</span>
                                    </div>
                                </div>

                                <!-- Step 1: Basic Information -->
                                <div class="form-step active" data-step="1">
                                    <h5 class="step-title">
                                        <i class="bi bi-person-fill me-2"></i>Basic Information
                                    </h5>

                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label for="firstName" class="form-label">First Name *</label>
                                            <input type="text" class="form-control" id="firstName" required>
                                            <div class="invalid-feedback"></div>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="lastName" class="form-label">Last Name *</label>
                                            <input type="text" class="form-control" id="lastName" required>
                                            <div class="invalid-feedback"></div>
                                        </div>
                                        <div class="col-12">
                                            <label for="email" class="form-label">Email Address *</label>
                                            <input type="email" class="form-control" id="email" required>
                                            <div class="invalid-feedback"></div>
                                            <div class="form-text">We'll never share your email with anyone else.</div>
                                        </div>
                                        <div class="col-12">
                                            <label for="phone" class="form-label">Phone Number *</label>
                                            <input type="tel" class="form-control" id="phone"
                                                placeholder="+94 XX XXX XXXX" required>
                                            <div class="invalid-feedback"></div>
                                        </div>
                                        <div class="col-12">
                                            <label for="password" class="form-label">Password *</label>
                                            <div class="password-input-group">
                                                <input type="password" class="form-control" id="password" required>
                                                <button type="button" class="password-toggle"
                                                    onclick="togglePassword('password')">
                                                    <i class="bi bi-eye"></i>
                                                </button>
                                            </div>
                                            <div class="invalid-feedback"></div>
                                            <div class="password-strength">
                                                <div class="strength-bar">
                                                    <div class="strength-fill"></div>
                                                </div>
                                                <small class="strength-text">Password strength</small>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <label for="confirmPassword" class="form-label">Confirm Password *</label>
                                            <div class="password-input-group">
                                                <input type="password" class="form-control" id="confirmPassword"
                                                    required>
                                                <button type="button" class="password-toggle"
                                                    onclick="togglePassword('confirmPassword')">
                                                    <i class="bi bi-eye"></i>
                                                </button>
                                            </div>
                                            <div class="invalid-feedback"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Step 2: Profile Information -->
                                <div class="form-step" data-step="2">
                                    <h5 class="step-title">
                                        <i class="bi bi-person-badge me-2"></i>Profile Details
                                    </h5>

                                    <!-- Common Fields -->
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label for="dateOfBirth" class="form-label">Date of Birth</label>
                                            <input type="date" class="form-control" id="dateOfBirth">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="gender" class="form-label">Gender</label>
                                            <select class="form-select" id="gender">
                                                <option value="">Select gender</option>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                                <option value="other">Other</option>
                                                <option value="prefer-not-to-say">Prefer not to say</option>
                                            </select>
                                        </div>
                                        <div class="col-12">
                                            <label for="city" class="form-label">City *</label>
                                            <select class="form-select" id="city" required>
                                                <option value="">Select your city</option>
                                                <option value="colombo">Colombo</option>
                                                <option value="kandy">Kandy</option>
                                                <option value="galle">Galle</option>
                                                <option value="negombo">Negombo</option>
                                                <option value="jaffna">Jaffna</option>
                                                <option value="kurunegala">Kurunegala</option>
                                                <option value="anuradhapura">Anuradhapura</option>
                                                <option value="batticaloa">Batticaloa</option>
                                                <option value="other">Other</option>
                                            </select>
                                            <div class="invalid-feedback"></div>
                                        </div>

                                        <!-- Customer Specific Fields -->
                                        <div class="customer-fields">
                                            <div class="col-12">
                                                <label class="form-label">Event Interests (Optional)</label>
                                                <div class="interest-checkboxes">
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="checkbox"
                                                            id="interest-music" value="music">
                                                        <label class="form-check-label" for="interest-music">
                                                            <i class="bi bi-music-note me-1"></i>Music
                                                        </label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="checkbox"
                                                            id="interest-sports" value="sports">
                                                        <label class="form-check-label" for="interest-sports">
                                                            <i class="bi bi-trophy me-1"></i>Sports
                                                        </label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="checkbox"
                                                            id="interest-arts" value="arts">
                                                        <label class="form-check-label" for="interest-arts">
                                                            <i class="bi bi-palette me-1"></i>Arts
                                                        </label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="checkbox"
                                                            id="interest-business" value="business">
                                                        <label class="form-check-label" for="interest-business">
                                                            <i class="bi bi-briefcase me-1"></i>Business
                                                        </label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="checkbox"
                                                            id="interest-food" value="food">
                                                        <label class="form-check-label" for="interest-food">
                                                            <i class="bi bi-cup-hot me-1"></i>Food
                                                        </label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="checkbox"
                                                            id="interest-technology" value="technology">
                                                        <label class="form-check-label" for="interest-technology">
                                                            <i class="bi bi-laptop me-1"></i>Tech
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Organizer Specific Fields -->
                                        <div class="organizer-fields" style="display: none;">
                                            <div class="col-12">
                                                <label for="companyName" class="form-label">Company/Organization Name
                                                    *</label>
                                                <input type="text" class="form-control" id="companyName">
                                                <div class="invalid-feedback"></div>
                                            </div>
                                            <div class="col-12">
                                                <label for="website" class="form-label">Website (Optional)</label>
                                                <input type="url" class="form-control" id="website"
                                                    placeholder="https://example.com">
                                            </div>
                                            <div class="col-12">
                                                <label for="organizerType" class="form-label">Organization Type
                                                    *</label>
                                                <select class="form-select" id="organizerType">
                                                    <option value="">Select organization type</option>
                                                    <option value="individual">Individual Organizer</option>
                                                    <option value="company">Company</option>
                                                    <option value="nonprofit">Non-profit Organization</option>
                                                    <option value="government">Government Agency</option>
                                                    <option value="educational">Educational Institution</option>
                                                    <option value="other">Other</option>
                                                </select>
                                                <div class="invalid-feedback"></div>
                                            </div>
                                            <div class="col-12">
                                                <label for="description" class="form-label">Organization
                                                    Description</label>
                                                <textarea class="form-control" id="description" rows="3"
                                                    placeholder="Brief description of your organization and event goals..."></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Step 3: Verification -->
                                <div class="form-step" data-step="3">
                                    <h5 class="step-title">
                                        <i class="bi bi-shield-check me-2"></i>Verification & Preferences
                                    </h5>

                                    <div class="verification-content">
                                        <!-- Email Verification -->
                                        <div class="verification-item">
                                            <div class="verification-icon">
                                                <i class="bi bi-envelope-check"></i>
                                            </div>
                                            <div class="verification-details">
                                                <h6>Email Verification</h6>
                                                <p>We'll send a verification link to <strong
                                                        id="verificationEmail"></strong></p>
                                                <button type="button" class="btn btn-sm btn-outline-primary"
                                                    onclick="sendVerificationEmail()">
                                                    Send Verification Email
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Phone Verification -->
                                        <div class="verification-item">
                                            <div class="verification-icon">
                                                <i class="bi bi-phone-vibrate"></i>
                                            </div>
                                            <div class="verification-details">
                                                <h6>Phone Verification</h6>
                                                <p>We'll send a verification code to <strong
                                                        id="verificationPhone"></strong></p>
                                                <button type="button" class="btn btn-sm btn-outline-primary"
                                                    onclick="sendPhoneVerification()">
                                                    Send Verification Code
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Preferences -->
                                        <div class="preferences-section mt-4">
                                            <h6>Communication Preferences</h6>
                                            <div class="preference-options">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox"
                                                        id="emailNotifications" checked>
                                                    <label class="form-check-label" for="emailNotifications">
                                                        <strong>Email Notifications</strong><br>
                                                        <small class="text-muted">Event updates, booking confirmations,
                                                            and newsletters</small>
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox"
                                                        id="smsNotifications">
                                                    <label class="form-check-label" for="smsNotifications">
                                                        <strong>SMS Notifications</strong><br>
                                                        <small class="text-muted">Important updates and event
                                                            reminders</small>
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="marketingEmails"
                                                        checked>
                                                    <label class="form-check-label" for="marketingEmails">
                                                        <strong>Marketing Communications</strong><br>
                                                        <small class="text-muted">Special offers, new features, and
                                                            event recommendations</small>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Terms and Conditions -->
                                        <div class="terms-section mt-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="termsAccepted"
                                                    required>
                                                <label class="form-check-label" for="termsAccepted">
                                                    I agree to the <a href="#" onclick="showTerms()">Terms of
                                                        Service</a> and
                                                    <a href="#" onclick="showPrivacyPolicy()">Privacy Policy</a> *
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="ageConfirmation"
                                                    required>
                                                <label class="form-check-label" for="ageConfirmation">
                                                    I confirm that I am at least 13 years old *
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Navigation Buttons -->
                                <div class="form-navigation">
                                    <button type="button" class="btn btn-secondary" id="prevBtn"
                                        onclick="previousStep()" style="display: none;">
                                        <i class="bi bi-arrow-left me-2"></i>Previous
                                    </button>
                                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextStep()">
                                        Next<i class="bi bi-arrow-right ms-2"></i>
                                    </button>
                                    <button type="submit" class="btn btn-success" id="submitBtn" style="display: none;">
                                        <i class="bi bi-check-circle me-2"></i>Create Account
                                    </button>
                                </div>
                            </form>

                            <!-- Login Link -->
                            <div class="login-link">
                                <p>Already have an account? <a href="login.html">Sign in here</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <style>
        /* EventHub Custom Styles */
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Navbar Styling - From navbar.html */
        .eventhub-navbar {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.75rem 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        .eventhub-brand {
            text-decoration: none;
            color: #6366f1 !important;
            font-weight: 700;
            font-size: 1.5rem;
        }

        .eventhub-brand:hover {
            color: #5855eb !important;
            text-decoration: none;
        }

        .brand-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .brand-text {
            color: #6366f1;
            font-weight: 700;
        }

        .eventhub-nav-link {
            color: #64748b !important;
            font-weight: 500;
            font-size: 0.95rem;
            padding: 0.5rem 1rem !important;
            margin: 0 0.25rem;
            border-radius: 8px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .eventhub-nav-link:hover {
            color: #6366f1 !important;
            background-color: rgba(99, 102, 241, 0.1);
        }

        .eventhub-nav-link.active {
            color: #6366f1 !important;
            background-color: rgba(99, 102, 241, 0.15);
            font-weight: 600;
        }

        .eventhub-dropdown {
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 0.5rem;
            margin-top: 0.5rem;
        }

        .eventhub-dropdown .dropdown-item {
            border-radius: 8px;
            padding: 0.75rem 1rem;
            color: #64748b;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .eventhub-dropdown .dropdown-item:hover {
            background-color: rgba(99, 102, 241, 0.1);
            color: #6366f1;
        }

        .eventhub-btn-login {
            background: transparent;
            border: 2px solid #6366f1;
            color: #6366f1 !important;
            font-weight: 600;
            font-size: 0.85rem;
            padding: 0.6rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            letter-spacing: 0.5px;
        }

        .eventhub-btn-login:hover {
            background-color: #6366f1;
            color: white !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .eventhub-btn-signup {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border: none;
            color: white !important;
            font-weight: 600;
            font-size: 0.85rem;
            padding: 0.6rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            letter-spacing: 0.5px;
        }

        .eventhub-btn-signup:hover {
            background: linear-gradient(135deg, #5855eb 0%, #7c3aed 100%);
            color: white !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }

        .eventhub-btn-signup.active {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: #1f2937 !important;
        }

        .custom-toggler {
            border: none;
            padding: 0.25rem 0.5rem;
        }

        .custom-toggler:focus {
            box-shadow: 0 0 0 0.2rem rgba(99, 102, 241, 0.25);
        }

        /* Registration Hero Section */
        .registration-hero {
            padding: 2rem 0;
            min-height: calc(100vh - 80px);
            display: flex;
            align-items: center;
        }

        .hero-content {
            color: white;
            padding-right: 2rem;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .gradient-text {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            line-height: 1.6;
        }

        .min-vh-80 {
            min-height: 80vh;
        }

        /* Role Selector */
        .role-title {
            color: white;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .role-options {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .role-option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 1rem;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .role-option:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .role-option.active {
            background: rgba(251, 191, 36, 0.2);
            border-color: #fbbf24;
            box-shadow: 0 8px 25px rgba(251, 191, 36, 0.3);
        }

        .role-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            color: white;
        }

        .role-option.active .role-icon {
            background: #fbbf24;
            color: #1f2937;
        }

        .role-info h6 {
            color: white;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .role-info p {
            color: rgba(255, 255, 255, 0.8);
            margin: 0;
            font-size: 0.9rem;
        }

        /* Benefits List */
        .benefits-list {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .benefit-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
            color: white;
        }

        .benefit-item:last-child {
            margin-bottom: 0;
        }

        .benefit-item i {
            color: #fbbf24;
            margin-right: 0.75rem;
            font-size: 1.1rem;
        }

        /* Registration Form */
        .registration-form-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .registration-form-card {
            background: white;
            border-radius: 1.5rem;
            padding: 2.5rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            width: 100%;
            max-width: 500px;
            backdrop-filter: blur(10px);
        }

        .form-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .form-title {
            color: #374151;
            font-weight: 700;
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .form-subtitle {
            color: #64748b;
            margin: 0;
        }

        /* Step Indicator */
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }

        .step-indicator::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            height: 2px;
            background: #e5e7eb;
            z-index: 1;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e5e7eb;
            color: #9ca3af;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        .step.active .step-number {
            background: #6366f1;
            color: white;
        }

        .step.completed .step-number {
            background: #10b981;
            color: white;
        }

        .step-label {
            font-size: 0.8rem;
            color: #64748b;
            font-weight: 500;
        }

        .step.active .step-label {
            color: #6366f1;
            font-weight: 600;
        }

        /* Form Steps */
        .form-step {
            display: none;
        }

        .form-step.active {
            display: block;
            animation: slideIn 0.3s ease-in-out;
        }

        .step-title {
            color: #374151;
            font-weight: 600;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f1f5f9;
        }

        /* Form Controls */
        .form-label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .form-control,
        .form-select {
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 0.875rem 1rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 0.2rem rgba(99, 102, 241, 0.15);
        }

        .form-control.is-invalid {
            border-color: #ef4444;
        }

        .form-control.is-valid {
            border-color: #10b981;
        }

        .invalid-feedback {
            color: #ef4444;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        .form-text {
            color: #64748b;
            font-size: 0.875rem;
        }

        /* Password Input Group */
        .password-input-group {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 0.25rem;
            transition: color 0.3s ease;
        }

        .password-toggle:hover {
            color: #6366f1;
        }

        .password-input-group .form-control {
            padding-right: 3rem;
        }

        /* Password Strength */
        .password-strength {
            margin-top: 0.5rem;
        }

        .strength-bar {
            height: 4px;
            background: #e5e7eb;
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 0.25rem;
        }

        .strength-fill {
            height: 100%;
            width: 0%;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .strength-text {
            color: #64748b;
            font-size: 0.8rem;
        }

        /* Interest Checkboxes */
        .interest-checkboxes {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .form-check-inline {
            margin-right: 0;
        }

        .form-check-input:checked {
            background-color: #6366f1;
            border-color: #6366f1;
        }

        .form-check-input:focus {
            box-shadow: 0 0 0 0.2rem rgba(99, 102, 241, 0.15);
        }

        .form-check-label {
            font-size: 0.9rem;
            color: #64748b;
            display: flex;
            align-items: center;
        }

        /* Verification Content */
        .verification-content {
            padding: 0;
        }

        .verification-item {
            display: flex;
            align-items: flex-start;
            padding: 1.5rem;
            background: #f8fafc;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
        }

        .verification-icon {
            width: 50px;
            height: 50px;
            background: rgba(99, 102, 241, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            flex-shrink: 0;
        }

        .verification-icon i {
            font-size: 1.5rem;
            color: #6366f1;
        }

        .verification-details h6 {
            color: #374151;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .verification-details p {
            color: #64748b;
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        /* Preferences Section */
        .preferences-section {
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 0.75rem;
        }

        .preferences-section h6 {
            color: #374151;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .preference-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .preference-options .form-check-label {
            color: #374151;
        }

        .preference-options .form-check-label small {
            color: #64748b;
        }

        /* Terms Section */
        .terms-section {
            background: #fef3cd;
            padding: 1.5rem;
            border-radius: 0.75rem;
            border-left: 4px solid #fbbf24;
        }

        .terms-section .form-check-label {
            color: #92400e;
        }

        .terms-section a {
            color: #d97706;
            font-weight: 600;
        }

        .terms-section a:hover {
            color: #b45309;
        }

        /* Form Navigation */
        .form-navigation {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 2px solid #f1f5f9;
        }

        .form-navigation .btn {
            font-weight: 600;
            padding: 0.875rem 2rem;
            border-radius: 0.75rem;
        }

        .form-navigation .btn-secondary {
            background: #f1f5f9;
            border: 2px solid #e5e7eb;
            color: #64748b;
        }

        .form-navigation .btn-secondary:hover {
            background: #e5e7eb;
            color: #374151;
        }

        .form-navigation .btn-primary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border: none;
            color: white;
        }

        .form-navigation .btn-primary:hover {
            background: linear-gradient(135deg, #5855eb 0%, #7c3aed 100%);
        }

        .form-navigation .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border: none;
            color: white;
        }

        .form-navigation .btn-success:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }

        /* Login Link */
        .login-link {
            text-align: center;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e5e7eb;
        }

        .login-link p {
            color: #64748b;
            margin: 0;
        }

        .login-link a {
            color: #6366f1;
            font-weight: 600;
            text-decoration: none;
        }

        .login-link a:hover {
            color: #5855eb;
            text-decoration: underline;
        }

        /* Responsive Design */
        @media (max-width: 991.98px) {
            .navbar-collapse {
                margin-top: 1rem;
                padding: 1rem;
                background-color: rgba(255, 255, 255, 0.95);
                border-radius: 12px;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                backdrop-filter: blur(10px);
            }

            .eventhub-nav-link {
                padding: 0.75rem 1rem !important;
                margin: 0.25rem 0;
            }

            .eventhub-btn-login,
            .eventhub-btn-signup {
                width: 100%;
                justify-content: center;
                margin: 0.5rem 0;
            }

            .navbar-nav.ms-auto {
                margin-top: 1rem;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
                padding-top: 1rem;
            }

            .hero-content {
                padding-right: 0;
                margin-bottom: 2rem;
            }

            .hero-title {
                font-size: 2.5rem;
            }

            .role-options {
                flex-direction: column;
            }

            .registration-form-card {
                margin-top: 2rem;
                padding: 2rem;
            }
        }

        @media (max-width: 576px) {
            .hero-title {
                font-size: 2rem;
            }

            .registration-form-card {
                padding: 1.5rem;
                margin: 1rem;
            }

            .step-indicator {
                margin-bottom: 1.5rem;
            }

            .step-label {
                display: none;
            }

            .interest-checkboxes {
                flex-direction: column;
                gap: 0.75rem;
            }

            .form-navigation {
                flex-direction: column;
            }

            .form-navigation .btn {
                width: 100%;
            }

            .verification-item {
                flex-direction: column;
                text-align: center;
            }

            .verification-icon {
                margin: 0 auto 1rem auto;
            }
        }

        /* Animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Loading States */
        .loading {
            pointer-events: none;
            opacity: 0.6;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #6366f1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }
    </style>

    <script>
        let currentStep = 1;
        let selectedRole = 'customer';

        document.addEventListener('DOMContentLoaded', function () {
            initializeRegistration();
            setupFormValidation();
            setupPasswordStrength();
            loadBenefits();
        });

        function initializeRegistration() {
            // Check URL parameters for pre-selected role
            const urlParams = new URLSearchParams(window.location.search);
            const roleParam = urlParams.get('role');

            if (roleParam && (roleParam === 'customer' || roleParam === 'organizer')) {
                selectRole(roleParam);
            }

            // Mobile menu auto-close
            const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
            const navbarCollapse = document.querySelector('.navbar-collapse');

            navLinks.forEach(link => {
                link.addEventListener('click', function () {
                    if (window.innerWidth < 992) {
                        const bsCollapse = bootstrap.Collapse.getInstance(navbarCollapse) ||
                            new bootstrap.Collapse(navbarCollapse);
                        bsCollapse.hide();
                    }
                });
            });

            // Set minimum age for date of birth (13 years ago)
            const dobInput = document.getElementById('dateOfBirth');
            const maxDate = new Date();
            maxDate.setFullYear(maxDate.getFullYear() - 13);
            dobInput.max = maxDate.toISOString().split('T')[0];

            // Set minimum age for a more reasonable maximum (100 years ago)
            const minDate = new Date();
            minDate.setFullYear(minDate.getFullYear() - 100);
            dobInput.min = minDate.toISOString().split('T')[0];
        }

        function selectRole(role) {
            selectedRole = role;

            // Update role option styling
            document.querySelectorAll('.role-option').forEach(option => {
                option.classList.remove('active');
            });
            document.querySelector(`[data-role="${role}"]`).classList.add('active');

            // Show/hide role-specific fields
            const customerFields = document.querySelector('.customer-fields');
            const organizerFields = document.querySelector('.organizer-fields');

            if (role === 'organizer') {
                customerFields.style.display = 'none';
                organizerFields.style.display = 'block';

                // Make organizer fields required
                document.getElementById('companyName').required = true;
                document.getElementById('organizerType').required = true;
            } else {
                customerFields.style.display = 'block';
                organizerFields.style.display = 'none';

                // Make organizer fields not required
                document.getElementById('companyName').required = false;
                document.getElementById('organizerType').required = false;
            }

            loadBenefits();
        }

        function loadBenefits() {
            const benefitsList = document.getElementById('benefitsList');
            const benefits = {
                customer: [
                    { icon: 'bi-search', text: 'Discover amazing events in your city' },
                    { icon: 'bi-ticket-perforated', text: 'Quick and secure ticket booking' },
                    { icon: 'bi-qr-code', text: 'Digital tickets with QR codes' },
                    { icon: 'bi-bell', text: 'Get notified about events you love' },
                    { icon: 'bi-star', text: 'Exclusive discounts and early access' },
                    { icon: 'bi-shield-check', text: 'Safe and secure transactions' }
                ],
                organizer: [
                    { icon: 'bi-plus-circle', text: 'Create and manage unlimited events' },
                    { icon: 'bi-graph-up', text: 'Track sales and revenue in real-time' },
                    { icon: 'bi-people', text: 'Reach thousands of potential attendees' },
                    { icon: 'bi-credit-card', text: 'Secure payment processing' },
                    { icon: 'bi-bar-chart', text: 'Detailed analytics and insights' },
                    { icon: 'bi-headset', text: 'Dedicated organizer support' }
                ]
            };

            benefitsList.innerHTML = benefits[selectedRole].map(benefit =>
                `<div class="benefit-item">
                    <i class="bi ${benefit.icon}"></i>
                    <span>${benefit.text}</span>
                </div>`
            ).join('');
        }

        function setupFormValidation() {
            const form = document.getElementById('registrationForm');
            const inputs = form.querySelectorAll('input, select, textarea');

            inputs.forEach(input => {
                input.addEventListener('blur', validateField);
                input.addEventListener('input', clearFieldError);
            });

            // Email validation with uniqueness check
            document.getElementById('email').addEventListener('blur', function () {
                const email = this.value.trim();
                if (email) {
                    checkEmailUniqueness(email);
                }
            });

            // Phone validation
            document.getElementById('phone').addEventListener('input', function () {
                let value = this.value.replace(/\D/g, '');
                if (value.startsWith('94')) {
                    value = '+' + value;
                } else if (value.startsWith('0')) {
                    value = '+94' + value.substring(1);
                } else if (value.length > 0 && !value.startsWith('+')) {
                    value = '+94' + value;
                }
                this.value = value;
            });

            // Password confirmation
            document.getElementById('confirmPassword').addEventListener('input', function () {
                const password = document.getElementById('password').value;
                const confirmPassword = this.value;

                if (confirmPassword && password !== confirmPassword) {
                    showFieldError(this, 'Passwords do not match');
                } else if (confirmPassword && password === confirmPassword) {
                    clearFieldError({ target: this });
                    this.classList.add('is-valid');
                }
            });
        }

        function setupPasswordStrength() {
            const passwordInput = document.getElementById('password');
            const strengthBar = document.querySelector('.strength-fill');
            const strengthText = document.querySelector('.strength-text');

            passwordInput.addEventListener('input', function () {
                const password = this.value;
                const strength = calculatePasswordStrength(password);

                strengthBar.style.width = strength.percentage + '%';
                strengthBar.style.backgroundColor = strength.color;
                strengthText.textContent = strength.text;
            });
        }

        function calculatePasswordStrength(password) {
            let score = 0;

            if (password.length >= 8) score += 20;
            if (password.length >= 12) score += 10;
            if (/[a-z]/.test(password)) score += 10;
            if (/[A-Z]/.test(password)) score += 15;
            if (/[0-9]/.test(password)) score += 15;
            if (/[^A-Za-z0-9]/.test(password)) score += 20;
            if (password.length >= 16) score += 10;

            if (score < 30) {
                return { percentage: score, color: '#ef4444', text: 'Weak password' };
            } else if (score < 60) {
                return { percentage: score, color: '#f59e0b', text: 'Fair password' };
            } else if (score < 80) {
                return { percentage: score, color: '#10b981', text: 'Good password' };
            } else {
                return { percentage: score, color: '#059669', text: 'Strong password' };
            }
        }

        function validateField(event) {
            const field = event.target;
            const value = field.value.trim();

            clearFieldError(event);

            if (field.required && !value) {
                showFieldError(field, 'This field is required');
                return false;
            }

            // Email validation
            if (field.type === 'email' && value) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(value)) {
                    showFieldError(field, 'Please enter a valid email address');
                    return false;
                }
            }

            // Phone validation
            if (field.id === 'phone' && value) {
                const phoneRegex = /^\+94[0-9]{9}$/;
                if (!phoneRegex.test(value)) {
                    showFieldError(field, 'Please enter a valid Sri Lankan phone number');
                    return false;
                }
            }

            // Password validation
            if (field.id === 'password' && value) {
                if (value.length < 8) {
                    showFieldError(field, 'Password must be at least 8 characters long');
                    return false;
                }
            }

            // URL validation
            if (field.type === 'url' && value) {
                try {
                    new URL(value);
                } catch {
                    showFieldError(field, 'Please enter a valid URL');
                    return false;
                }
            }

            field.classList.add('is-valid');
            return true;
        }

        function showFieldError(field, message) {
            field.classList.remove('is-valid');
            field.classList.add('is-invalid');

            const feedback = field.parentNode.querySelector('.invalid-feedback');
            if (feedback) {
                feedback.textContent = message;
                feedback.style.display = 'block';
            }
        }

        function clearFieldError(event) {
            const field = event.target;
            field.classList.remove('is-invalid', 'is-valid');

            const feedback = field.parentNode.querySelector('.invalid-feedback');
            if (feedback) {
                feedback.style.display = 'none';
            }
        }

        function checkEmailUniqueness(email) {
            // Simulate email uniqueness check
            const existingEmails = [
                'john.doe@email.com',
                'admin@eventhub.lk',
                'test@example.com'
            ];

            setTimeout(() => {
                const emailField = document.getElementById('email');
                if (existingEmails.includes(email.toLowerCase())) {
                    showFieldError(emailField, 'This email is already registered. Try logging in instead.');
                } else {
                    clearFieldError({ target: emailField });
                    emailField.classList.add('is-valid');
                }
            }, 500);
        }

        function togglePassword(fieldId) {
            const field = document.getElementById(fieldId);
            const toggle = field.parentNode.querySelector('.password-toggle i');

            if (field.type === 'password') {
                field.type = 'text';
                toggle.classList.remove('bi-eye');
                toggle.classList.add('bi-eye-slash');
            } else {
                field.type = 'password';
                toggle.classList.remove('bi-eye-slash');
                toggle.classList.add('bi-eye');
            }
        }

        function nextStep() {
            if (validateCurrentStep()) {
                if (currentStep < 3) {
                    currentStep++;
                    updateStepDisplay();
                }
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                updateStepDisplay();
            }
        }

        function validateCurrentStep() {
            const currentStepElement = document.querySelector(`[data-step="${currentStep}"].form-step.active`);
            const inputs = currentStepElement.querySelectorAll('input[required], select[required]');
            let isValid = true;

            inputs.forEach(input => {
                if (!validateField({ target: input })) {
                    isValid = false;
                }
            });

            // Special validation for step 2
            if (currentStep === 2 && selectedRole === 'organizer') {
                const companyName = document.getElementById('companyName');
                const organizerType = document.getElementById('organizerType');

                if (!validateField({ target: companyName }) || !validateField({ target: organizerType })) {
                    isValid = false;
                }
            }

            return isValid;
        }

        function updateStepDisplay() {
            // Update step indicator
            document.querySelectorAll('.step').forEach((step, index) => {
                const stepNum = index + 1;
                step.classList.remove('active', 'completed');

                if (stepNum === currentStep) {
                    step.classList.add('active');
                } else if (stepNum < currentStep) {
                    step.classList.add('completed');
                }
            });

            // Update form steps
            document.querySelectorAll('.form-step').forEach(step => {
                step.classList.remove('active');
            });
            document.querySelector(`[data-step="${currentStep}"].form-step`).classList.add('active');

            // Update navigation buttons
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            prevBtn.style.display = currentStep === 1 ? 'none' : 'inline-block';
            nextBtn.style.display = currentStep === 3 ? 'none' : 'inline-block';
            submitBtn.style.display = currentStep === 3 ? 'inline-block' : 'none';

            // Update verification step content
            if (currentStep === 3) {
                updateVerificationContent();
            }
        }

        function updateVerificationContent() {
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;

            document.getElementById('verificationEmail').textContent = email;
            document.getElementById('verificationPhone').textContent = phone;
        }

        function sendVerificationEmail() {
            const button = event.target;
            const originalText = button.innerHTML;

            button.disabled = true;
            button.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>Sending...';

            setTimeout(() => {
                button.innerHTML = '<i class="bi bi-check-circle me-2"></i>Sent!';
                button.classList.remove('btn-outline-primary');
                button.classList.add('btn-success');

                Swal.fire({
                    title: 'Verification Email Sent!',
                    text: 'Please check your email and click the verification link.',
                    icon: 'success',
                    timer: 3000,
                    timerProgressBar: true,
                    showConfirmButton: false,
                    position: 'top-end',
                    toast: true
                });
            }, 2000);
        }

        function sendPhoneVerification() {
            const button = event.target;
            const originalText = button.innerHTML;

            button.disabled = true;
            button.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>Sending...';

            setTimeout(() => {
                button.innerHTML = '<i class="bi bi-check-circle me-2"></i>Sent!';
                button.classList.remove('btn-outline-primary');
                button.classList.add('btn-success');

                Swal.fire({
                    title: 'Verification Code Sent!',
                    html: `
                        <p>We've sent a 6-digit code to your phone.</p>
                        <div class="mt-3">
                            <input type="text" class="form-control text-center" id="verificationCode" 
                                   placeholder="Enter 6-digit code" maxlength="6" style="font-size: 1.5rem; letter-spacing: 0.5rem;">
                        </div>
                    `,
                    showCancelButton: true,
                    confirmButtonText: 'Verify',
                    confirmButtonColor: '#6366f1',
                    preConfirm: () => {
                        const code = document.getElementById('verificationCode').value;
                        if (!code || code.length !== 6) {
                            Swal.showValidationMessage('Please enter the 6-digit verification code');
                            return false;
                        }
                        return code;
                    }
                }).then((result) => {
                    if (result.isConfirmed) {
                        if (result.value === '123456') { // Demo code
                            Swal.fire({
                                title: 'Phone Verified!',
                                text: 'Your phone number has been successfully verified.',
                                icon: 'success',
                                confirmButtonColor: '#6366f1'
                            });
                        } else {
                            Swal.fire({
                                title: 'Invalid Code',
                                text: 'Please try again with the correct verification code.',
                                icon: 'error',
                                confirmButtonColor: '#6366f1'
                            });
                        }
                    }
                });
            }, 2000);
        }

        function submitRegistration(event) {
            event.preventDefault();

            if (!validateCurrentStep()) {
                return;
            }

            // Check required checkboxes
            const termsAccepted = document.getElementById('termsAccepted').checked;
            const ageConfirmation = document.getElementById('ageConfirmation').checked;

            if (!termsAccepted || !ageConfirmation) {
                Swal.fire({
                    title: 'Agreement Required',
                    text: 'Please accept the terms and confirm your age to continue.',
                    icon: 'warning',
                    confirmButtonColor: '#6366f1'
                });
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            const originalText = submitBtn.innerHTML;

            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>Creating Account...';

            // Collect form data
            const formData = collectFormData();

            // Simulate registration process
            setTimeout(() => {
                // Store user data
                const userData = {
                    ...formData,
                    id: Date.now(),
                    registrationDate: new Date().toISOString(),
                    verified: false,
                    status: 'active'
                };

                // Save to localStorage for demo
                const users = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
                users.push(userData);
                localStorage.setItem('registeredUsers', JSON.stringify(users));

                // Reset button
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;

                // Success message with role-specific content
                const roleMessage = selectedRole === 'organizer'
                    ? 'Your organizer account will be reviewed within 24-48 hours.'
                    : 'You can start discovering events right away!';

                Swal.fire({
                    title: 'Welcome to EventHub!',
                    html: `
                        <div class="text-start">
                            <p><strong>Account created successfully!</strong></p>
                            <p>${roleMessage}</p>
                            <ul class="list-unstyled mt-3">
                                <li><i class="bi bi-person text-primary me-2"></i>${formData.firstName} ${formData.lastName}</li>
                                <li><i class="bi bi-envelope text-primary me-2"></i>${formData.email}</li>
                                <li><i class="bi bi-shield text-primary me-2"></i>${selectedRole === 'organizer' ? 'Event Organizer' : 'Event Goer'}</li>
                            </ul>
                            <div class="alert alert-info mt-3">
                                <i class="bi bi-info-circle me-2"></i>
                                Please check your email to verify your account.
                            </div>
                        </div>
                    `,
                    icon: 'success',
                    confirmButtonText: 'Continue to Login',
                    confirmButtonColor: '#6366f1',
                    allowOutsideClick: false
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Store registration success for login page
                        sessionStorage.setItem('registrationSuccess', JSON.stringify({
                            email: formData.email,
                            role: selectedRole
                        }));

                        window.location.href = 'login.html';
                    }
                });

            }, 3000);
        }

        function collectFormData() {
            const interests = Array.from(document.querySelectorAll('.interest-checkboxes input:checked'))
                .map(input => input.value);

            return {
                // Basic Information
                firstName: document.getElementById('firstName').value.trim(),
                lastName: document.getElementById('lastName').value.trim(),
                email: document.getElementById('email').value.trim(),
                phone: document.getElementById('phone').value.trim(),
                password: document.getElementById('password').value, // In real app, this would be hashed

                // Profile Information
                dateOfBirth: document.getElementById('dateOfBirth').value,
                gender: document.getElementById('gender').value,
                city: document.getElementById('city').value,

                // Role-specific data
                role: selectedRole,
                ...(selectedRole === 'customer' ? {
                    interests: interests
                } : {
                    companyName: document.getElementById('companyName').value.trim(),
                    website: document.getElementById('website').value.trim(),
                    organizerType: document.getElementById('organizerType').value,
                    description: document.getElementById('description').value.trim()
                }),

                // Preferences
                emailNotifications: document.getElementById('emailNotifications').checked,
                smsNotifications: document.getElementById('smsNotifications').checked,
                marketingEmails: document.getElementById('marketingEmails').checked
            };
        }

        function showTerms() {
            Swal.fire({
                title: 'Terms of Service',
                html: `
                    <div class="text-start" style="max-height: 400px; overflow-y: auto;">
                        <h6>1. Acceptance of Terms</h6>
                        <p>By creating an account with EventHub, you agree to be bound by these Terms of Service and all applicable laws and regulations.</p>
                        
                        <h6>2. Account Responsibilities</h6>
                        <p>You are responsible for maintaining the confidentiality of your account credentials and for all activities under your account.</p>
                        
                        <h6>3. Event Listings and Bookings</h6>
                        <p>Event organizers must provide accurate information. Customers acknowledge that event details may change and cancellation policies apply.</p>
                        
                        <h6>4. Payment and Refunds</h6>
                        <p>Payments are processed securely. Refund policies vary by event and are set by the organizer.</p>
                        
                        <h6>5. Prohibited Activities</h6>
                        <p>Users must not engage in fraud, spam, harassment, or any illegal activities on the platform.</p>
                        
                        <h6>6. Limitation of Liability</h6>
                        <p>EventHub's liability is limited to the amount paid for services, except where prohibited by law.</p>
                    </div>
                `,
                confirmButtonText: 'I Understand',
                confirmButtonColor: '#6366f1',
                customClass: {
                    popup: 'swal-wide'
                }
            });
        }

        function showPrivacyPolicy() {
            Swal.fire({
                title: 'Privacy Policy',
                html: `
                    <div class="text-start" style="max-height: 400px; overflow-y: auto;">
                        <h6>Information We Collect</h6>
                        <p>We collect information you provide directly, including account details, event preferences, and booking history.</p>
                        
                        <h6>How We Use Information</h6>
                        <p>Your information is used to provide services, process transactions, send notifications, and improve our platform.</p>
                        
                        <h6>Information Sharing</h6>
                        <p>We don't sell your personal information. We only share data with service providers and as required by law.</p>
                        
                        <h6>Data Security</h6>
                        <p>We implement industry-standard security measures to protect your personal information.</p>
                        
                        <h6>Your Rights</h6>
                        <p>You can access, update, or delete your personal information at any time through your account settings.</p>
                        
                        <h6>Contact Us</h6>
                        <p>For privacy-related questions, contact us at privacy@eventhub.lk</p>
                    </div>
                `,
                confirmButtonText: 'I Understand',
                confirmButtonColor: '#6366f1',
                customClass: {
                    popup: 'swal-wide'
                }
            });
        }

        // Auto-fill demo data
        function fillDemoData() {
            if (window.location.search.includes('demo=true')) {
                setTimeout(() => {
                    document.getElementById('firstName').value = 'Priya';
                    document.getElementById('lastName').value = 'Fernando';
                    document.getElementById('email').value = 'priya.fernando@email.com';
                    document.getElementById('phone').value = '+94771234567';
                    document.getElementById('password').value = 'SecurePass123!';
                    document.getElementById('confirmPassword').value = 'SecurePass123!';
                    document.getElementById('city').value = 'colombo';

                    if (selectedRole === 'organizer') {
                        document.getElementById('companyName').value = 'Creative Events Lanka';
                        document.getElementById('organizerType').value = 'company';
                        document.getElementById('description').value = 'We specialize in organizing corporate events and cultural shows across Sri Lanka.';
                        document.getElementById('website').value = 'https://creativeevents.lk';
                    } else {
                        // Check some interests
                        document.getElementById('interest-music').checked = true;
                        document.getElementById('interest-arts').checked = true;
                    }
                }, 1000);
            }
        }

        // Initialize demo data if needed
        fillDemoData();

        // Add custom styles for SweetAlert
        const style = document.createElement('style');
        style.textContent = `
            .swal-wide {
                width: 600px !important;
                max-width: 90vw !important;
            }
        `;
        document.head.appendChild(style);
    </script>

</body>

</html>