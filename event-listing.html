<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EventHub - Discover Events</title>

    <!-- Bootstrap 5.3 CSS (Latest) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- Bootstrap Icons (Latest) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <!-- EventHub Header - From navbar.html -->
    <nav class="navbar navbar-expand-lg eventhub-navbar">
        <div class="container-fluid px-4">
            <!-- Brand Logo -->
            <a class="navbar-brand eventhub-brand d-flex align-items-center" href="index.html">
                <div class="brand-icon me-2">
                    <i class="bi bi-calendar-event me-1"></i>
                </div>
                <span class="brand-text">EventHub</span>
            </a>

            <!-- Mobile Toggle Button -->
            <button class="navbar-toggler custom-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navigation Items -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- Left Navigation -->
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link eventhub-nav-link" href="index.html">
                            <i class="bi bi-house-fill me-1"></i>
                            Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link eventhub-nav-link active" href="event-listing.html">
                            <i class="bi bi-calendar3 me-1"></i>Events
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link eventhub-nav-link dropdown-toggle" href="#" id="categoriesDropdown"
                            role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-grid-3x3-gap me-1"></i>
                            Categories
                        </a>
                        <ul class="dropdown-menu eventhub-dropdown" aria-labelledby="categoriesDropdown">
                            <li><a class="dropdown-item" href="#" data-category="music"><i class="bi bi-music-note me-2"></i>Music</a></li>
                            <li><a class="dropdown-item" href="#" data-category="sports"><i class="bi bi-trophy me-2"></i>Sports</a></li>
                            <li><a class="dropdown-item" href="#" data-category="arts"><i class="bi bi-palette me-2"></i>Arts & Culture</a>
                            </li>
                            <li><a class="dropdown-item" href="#" data-category="business"><i class="bi bi-briefcase me-2"></i>Business</a></li>
                            <li><a class="dropdown-item" href="#" data-category="food"><i class="bi bi-cup-hot me-2"></i>Food & Drink</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link eventhub-nav-link" href="about.html">
                            <i class="bi bi-info-circle me-1"></i>About
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link eventhub-nav-link" href="contact.html">
                            <i class="bi bi-envelope me-1"></i>Contact
                        </a>
                    </li>
                </ul>

                <!-- Right Navigation - Auth Buttons -->
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="btn eventhub-btn-login me-2" href="login.html">
                            <i class="bi bi-box-arrow-in-right me-1"></i>
                            LOGIN
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="btn eventhub-btn-signup" href="register.html">
                            <i class="bi bi-person-plus me-1"></i>
                            SIGN UP
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="page-header-content text-center">
                        <h1 class="page-title">Discover Amazing Events</h1>
                        <p class="page-subtitle">Find the perfect event for you from concerts to conferences</p>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb justify-content-center">
                                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Events</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Search and Filter Section -->
    <section class="search-filter-section py-4">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="search-filter-card">
                        <!-- Main Search Bar -->
                        <div class="main-search mb-4">
                            <div class="input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-search"></i>
                                </span>
                                <input type="text" class="form-control" id="searchQuery" 
                                       placeholder="Search events by name, description, or organizer...">
                                <button class="btn btn-search-primary" type="button" onclick="performSearch()">
                                    Search
                                </button>
                            </div>
                        </div>

                        <!-- Advanced Filters -->
                        <div class="advanced-filters">
                            <div class="row g-3">
                                <div class="col-lg-3 col-md-6">
                                    <label class="filter-label">
                                        <i class="bi bi-grid-3x3-gap me-1"></i>Category
                                    </label>
                                    <select class="form-select" id="filterCategory" onchange="applyFilters()">
                                        <option value="">All Categories</option>
                                        <option value="music">Music</option>
                                        <option value="sports">Sports</option>
                                        <option value="arts">Arts & Culture</option>
                                        <option value="business">Business</option>
                                        <option value="food">Food & Drink</option>
                                        <option value="technology">Technology</option>
                                        <option value="health">Health & Wellness</option>
                                        <option value="education">Education</option>
                                    </select>
                                </div>
                                <div class="col-lg-3 col-md-6">
                                    <label class="filter-label">
                                        <i class="bi bi-calendar3 me-1"></i>Date Range
                                    </label>
                                    <select class="form-select" id="filterDate" onchange="applyFilters()">
                                        <option value="">Any Time</option>
                                        <option value="today">Today</option>
                                        <option value="tomorrow">Tomorrow</option>
                                        <option value="this-week">This Week</option>
                                        <option value="this-weekend">This Weekend</option>
                                        <option value="next-week">Next Week</option>
                                        <option value="this-month">This Month</option>
                                        <option value="next-month">Next Month</option>
                                    </select>
                                </div>
                                <div class="col-lg-3 col-md-6">
                                    <label class="filter-label">
                                        <i class="bi bi-geo-alt me-1"></i>Location
                                    </label>
                                    <select class="form-select" id="filterLocation" onchange="applyFilters()">
                                        <option value="">All Locations</option>
                                        <option value="colombo">Colombo</option>
                                        <option value="kandy">Kandy</option>
                                        <option value="galle">Galle</option>
                                        <option value="negombo">Negombo</option>
                                        <option value="jaffna">Jaffna</option>
                                        <option value="kurunegala">Kurunegala</option>
                                        <option value="anuradhapura">Anuradhapura</option>
                                        <option value="batticaloa">Batticaloa</option>
                                    </select>
                                </div>
                                <div class="col-lg-3 col-md-6">
                                    <label class="filter-label">
                                        <i class="bi bi-currency-dollar me-1"></i>Price Range
                                    </label>
                                    <select class="form-select" id="filterPrice" onchange="applyFilters()">
                                        <option value="">Any Price</option>
                                        <option value="free">Free</option>
                                        <option value="0-1000">Under Rs. 1,000</option>
                                        <option value="1000-5000">Rs. 1,000 - 5,000</option>
                                        <option value="5000-10000">Rs. 5,000 - 10,000</option>
                                        <option value="10000+">Above Rs. 10,000</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="d-flex gap-2">
                                        <button type="button" class="btn btn-clear-filters" onclick="clearFilters()">
                                            <i class="bi bi-x-circle me-1"></i>Clear Filters
                                        </button>
                                        <button type="button" class="btn btn-save-search" onclick="saveSearch()">
                                            <i class="bi bi-bookmark me-1"></i>Save Search
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-6 text-md-end">
                                    <div class="view-options">
                                        <label class="filter-label me-2">View:</label>
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-view active" data-view="grid" onclick="changeView('grid')">
                                                <i class="bi bi-grid"></i>
                                            </button>
                                            <button type="button" class="btn btn-view" data-view="list" onclick="changeView('list')">
                                                <i class="bi bi-list"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section class="results-section py-4">
        <div class="container">
            <!-- Results Header -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <div class="results-info">
                        <h5 id="resultsCount">Showing 12 of 24 events</h5>
                        <div class="active-filters" id="activeFilters"></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="sort-options text-md-end">
                        <label class="filter-label me-2">Sort by:</label>
                        <select class="form-select d-inline-block" id="sortBy" onchange="sortEvents()" style="width: auto;">
                            <option value="date">Date (Earliest First)</option>
                            <option value="date-desc">Date (Latest First)</option>
                            <option value="price">Price (Low to High)</option>
                            <option value="price-desc">Price (High to Low)</option>
                            <option value="name">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="popular">Most Popular</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Events Grid/List -->
            <div id="eventsContainer" class="events-grid">
                <!-- Events will be loaded here -->
            </div>

            <!-- Loading State -->
            <div id="loadingState" class="text-center py-5" style="display: none;">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-2">Loading events...</p>
            </div>

            <!-- No Results State -->
            <div id="noResultsState" class="no-results text-center py-5" style="display: none;">
                <i class="bi bi-calendar-x display-1 text-muted mb-3"></i>
                <h4>No events found</h4>
                <p class="text-muted">Try adjusting your search criteria or browse all events</p>
                <button class="btn btn-primary" onclick="clearFilters()">
                    <i class="bi bi-arrow-clockwise me-1"></i>Clear Filters
                </button>
            </div>

            <!-- Pagination -->
            <nav aria-label="Events pagination" class="mt-5">
                <ul class="pagination justify-content-center" id="pagination">
                    <!-- Pagination will be generated here -->
                </ul>
            </nav>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <div class="footer-brand">
                        <div class="brand d-flex align-items-center mb-3">
                            <i class="bi bi-calendar-event me-2"></i>
                            <span class="brand-text">EventHub</span>
                        </div>
                        <p class="footer-description">Sri Lanka's premier event ticketing platform. Discover, book, and
                            enjoy amazing events across the country.</p>
                        <div class="social-links">
                            <a href="#" class="social-link"><i class="bi bi-facebook"></i></a>
                            <a href="#" class="social-link"><i class="bi bi-twitter"></i></a>
                            <a href="#" class="social-link"><i class="bi bi-instagram"></i></a>
                            <a href="#" class="social-link"><i class="bi bi-linkedin"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5 class="footer-title">Quick Links</h5>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="event-listing.html">Events</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5 class="footer-title">Categories</h5>
                    <ul class="footer-links">
                        <li><a href="#" data-category="music">Music</a></li>
                        <li><a href="#" data-category="sports">Sports</a></li>
                        <li><a href="#" data-category="arts">Arts & Culture</a></li>
                        <li><a href="#" data-category="business">Business</a></li>
                        <li><a href="#" data-category="food">Food & Drink</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5 class="footer-title">For Organizers</h5>
                    <ul class="footer-links">
                        <li><a href="register.html?role=organizer">Create Account</a></li>
                        <li><a href="organizer-dashboard.html">Dashboard</a></li>
                        <li><a href="create-event.html">Create Event</a></li>
                        <li><a href="sales-reports.html">Sales Reports</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5 class="footer-title">Support</h5>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">FAQ</a></li>
                    </ul>
                </div>
            </div>
            <hr class="footer-divider">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="footer-copyright">&copy; 2025 EventHub. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="footer-tagline">Made with ❤️ in Sri Lanka</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <style>
        /* EventHub Custom Styles */
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #f8fafc;
            line-height: 1.6;
        }

        /* Navbar Styling - From navbar.html */
        .eventhub-navbar {
            background-color: #ffffff;
            border-bottom: 1px solid #e9ecef;
            padding: 0.75rem 0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .eventhub-brand {
            text-decoration: none;
            color: #6366f1 !important;
            font-weight: 700;
            font-size: 1.5rem;
        }

        .eventhub-brand:hover {
            color: #5855eb !important;
            text-decoration: none;
        }

        .brand-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .brand-text {
            color: #6366f1;
            font-weight: 700;
        }

        .eventhub-nav-link {
            color: #64748b !important;
            font-weight: 500;
            font-size: 0.95rem;
            padding: 0.5rem 1rem !important;
            margin: 0 0.25rem;
            border-radius: 8px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .eventhub-nav-link:hover {
            color: #6366f1 !important;
            background-color: rgba(99, 102, 241, 0.1);
        }

        .eventhub-nav-link.active {
            color: #6366f1 !important;
            background-color: rgba(99, 102, 241, 0.15);
            font-weight: 600;
        }

        .eventhub-dropdown {
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 0.5rem;
            margin-top: 0.5rem;
        }

        .eventhub-dropdown .dropdown-item {
            border-radius: 8px;
            padding: 0.75rem 1rem;
            color: #64748b;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .eventhub-dropdown .dropdown-item:hover {
            background-color: rgba(99, 102, 241, 0.1);
            color: #6366f1;
        }

        .eventhub-btn-login {
            background: transparent;
            border: 2px solid #6366f1;
            color: #6366f1 !important;
            font-weight: 600;
            font-size: 0.85rem;
            padding: 0.6rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            letter-spacing: 0.5px;
        }

        .eventhub-btn-login:hover {
            background-color: #6366f1;
            color: white !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .eventhub-btn-signup {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border: none;
            color: white !important;
            font-weight: 600;
            font-size: 0.85rem;
            padding: 0.6rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            letter-spacing: 0.5px;
        }

        .eventhub-btn-signup:hover {
            background: linear-gradient(135deg, #5855eb 0%, #7c3aed 100%);
            color: white !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }

        .custom-toggler {
            border: none;
            padding: 0.25rem 0.5rem;
        }

        .custom-toggler:focus {
            box-shadow: 0 0 0 0.2rem rgba(99, 102, 241, 0.25);
        }

        /* Page Header */
        .page-header {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            padding: 4rem 0 3rem;
            color: white;
        }

        .page-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .page-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .breadcrumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 0.75rem 1.5rem;
            backdrop-filter: blur(10px);
        }

        .breadcrumb-item a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
        }

        .breadcrumb-item a:hover {
            color: white;
        }

        .breadcrumb-item.active {
            color: white;
        }

        /* Search Filter Section */
        .search-filter-section {
            margin-top: 2rem;
            position: relative;
            z-index: 10;
        }

        .search-filter-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
        }

        .main-search .input-group {
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.15);
            border-radius: 50px;
            overflow: hidden;
        }

        .main-search .input-group-text {
            background: white;
            border: none;
            color: #6366f1;
            padding: 1rem 1.5rem;
        }

        .main-search .form-control {
            border: none;
            padding: 1rem;
            font-size: 1.1rem;
            box-shadow: none;
        }

        .main-search .form-control:focus {
            box-shadow: none;
            border: none;
        }

        .btn-search-primary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 1rem 2rem;
            border-radius: 0;
        }

        .btn-search-primary:hover {
            background: linear-gradient(135deg, #5855eb 0%, #7c3aed 100%);
            color: white;
        }

        .filter-label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
            display: block;
        }

        .advanced-filters .form-select {
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 0.75rem;
            transition: all 0.3s ease;
        }

        .advanced-filters .form-select:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 0.2rem rgba(99, 102, 241, 0.15);
        }

        .btn-clear-filters {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            color: #6b7280;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
        }

        .btn-clear-filters:hover {
            background: #e5e7eb;
            color: #374151;
        }

        .btn-save-search {
            background: transparent;
            border: 1px solid #6366f1;
            color: #6366f1;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
        }

        .btn-save-search:hover {
            background: #6366f1;
            color: white;
        }

        .btn-view {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            color: #6b7280;
            padding: 0.5rem 0.75rem;
        }

        .btn-view.active {
            background: #6366f1;
            border-color: #6366f1;
            color: white;
        }

        .btn-view:hover {
            background: #f3f4f6;
            border-color: #d1d5db;
        }

        .btn-view.active:hover {
            background: #5855eb;
            border-color: #5855eb;
            color: white;
        }

        /* Results Section */
        .results-info h5 {
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .active-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .filter-tag {
            background: rgba(99, 102, 241, 0.1);
            color: #6366f1;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-tag .remove-filter {
            cursor: pointer;
            color: #6366f1;
            font-weight: bold;
        }

        .filter-tag .remove-filter:hover {
            color: #5855eb;
        }

        /* Events Grid */
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        .events-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .event-card {
            background: white;
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            height: 100%;
            border: 1px solid #f1f5f9;
            margin-top: 2rem;
        }

        .event-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .event-card-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .event-card.list-view .event-card-image {
            height: 150px;
            width: 200px;
            flex-shrink: 0;
        }

        .event-card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .event-card:hover .event-card-image img {
            transform: scale(1.05);
        }

        .event-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }

        .event-date {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 0.75rem;
            border-radius: 0.75rem;
            text-align: center;
            min-width: 60px;
            z-index: 2;
        }

        .date-month {
            display: block;
            font-size: 0.75rem;
            font-weight: 600;
            color: #6366f1;
            text-transform: uppercase;
            line-height: 1;
        }

        .date-day {
            display: block;
            font-size: 1.4rem;
            font-weight: 700;
            color: #1e293b;
            line-height: 1;
            margin-top: 0.25rem;
        }

        .event-card-content {
            padding: 1.5rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .event-card.list-view .event-card-content {
            padding: 1.25rem;
        }

        .event-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.75rem;
            line-height: 1.3;
        }

        .event-card.list-view .event-title {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .event-description {
            color: #64748b;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 1.25rem;
            flex: 1;
        }

        .event-card.list-view .event-description {
            font-size: 0.9rem;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .event-details {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .event-card.list-view .event-details {
            gap: 1.5rem;
            margin-bottom: 1rem;
        }

        .detail-item {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            color: #64748b;
        }

        .detail-item i {
            color: #6366f1;
            margin-right: 0.5rem;
            font-size: 1rem;
        }

        .event-price {
            font-weight: 600;
            color: #059669;
        }

        .event-actions {
            display: flex;
            gap: 0.75rem;
            margin-top: auto;
        }

        .event-card.list-view .event-actions {
            margin-top: 0;
        }

        .btn-event-primary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
        }

        .btn-event-primary:hover {
            background: linear-gradient(135deg, #5855eb 0%, #7c3aed 100%);
            color: white;
            transform: translateY(-1px);
        }

        .btn-event-secondary {
            background: transparent;
            border: 2px solid #e5e7eb;
            color: #6b7280;
            font-weight: 500;
            padding: 0.75rem;
            border-radius: 0.5rem;
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-event-secondary:hover {
            border-color: #6366f1;
            color: #6366f1;
        }

        .btn-event-secondary.liked {
            border-color: #ef4444;
            color: #ef4444;
        }

        /* List View Specific Styles */
        .event-card.list-view {
            display: flex;
            flex-direction: row;
            height: auto;
        }

        /* No Results State */
        .no-results {
            padding: 4rem 0;
        }

        .no-results i {
            font-size: 4rem;
            color: #d1d5db;
        }

        .no-results h4 {
            color: #374151;
            margin-bottom: 1rem;
        }

        /* Pagination */
        .pagination .page-link {
            border: 1px solid #e5e7eb;
            color: #6b7280;
            padding: 0.75rem 1rem;
            margin: 0 0.25rem;
            border-radius: 0.5rem;
        }

        .pagination .page-item.active .page-link {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border-color: #6366f1;
        }

        .pagination .page-link:hover {
            background: #f9fafb;
            border-color: #d1d5db;
            color: #374151;
        }

        /* Footer */
        .footer {
            background: #1e293b;
            color: white;
            padding: 3rem 0 1rem;
            margin-top: 4rem;
        }

        .footer-brand .brand {
            font-size: 1.5rem;
            font-weight: 700;
            color: #6366f1;
        }

        .footer-brand .brand i {
            font-size: 1.5rem;
        }

        .footer-description {
            color: #94a3b8;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .social-links {
            display: flex;
            gap: 1rem;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background: rgba(99, 102, 241, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6366f1;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: #6366f1;
            color: white;
            transform: translateY(-2px);
        }

        .footer-title {
            color: white;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .footer-links {
            list-style: none;
            padding: 0;
        }

        .footer-links li {
            margin-bottom: 0.75rem;
        }

        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #6366f1;
        }

        .footer-divider {
            border-color: #334155;
            margin: 2rem 0 1rem;
        }

        .footer-copyright,
        .footer-tagline {
            color: #94a3b8;
            margin: 0;
        }

        /* Responsive Design */
        @media (max-width: 991.98px) {
            .navbar-collapse {
                margin-top: 1rem;
                padding: 1rem;
                background-color: white;
                border-radius: 12px;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
                border: 1px solid #e2e8f0;
            }

            .eventhub-nav-link {
                padding: 0.75rem 1rem !important;
                margin: 0.25rem 0;
            }

            .eventhub-btn-login,
            .eventhub-btn-signup {
                width: 100%;
                justify-content: center;
                margin: 0.5rem 0;
            }

            .navbar-nav.ms-auto {
                margin-top: 1rem;
                border-top: 1px solid #e2e8f0;
                padding-top: 1rem;
            }

            .page-title {
                font-size: 2.5rem;
            }

            .search-filter-card {
                padding: 1.5rem;
            }

            .events-grid {
                grid-template-columns: 1fr;
            }

            .event-card.list-view {
                flex-direction: column;
            }

            .event-card.list-view .event-card-image {
                width: 100%;
                height: 200px;
            }
        }

        @media (max-width: 576px) {
            .page-title {
                font-size: 2rem;
            }

            .search-filter-card {
                padding: 1rem;
            }

            .main-search .input-group {
                border-radius: 0.75rem;
            }

            .main-search .form-control {
                padding: 0.875rem;
                font-size: 1rem;
            }

            .btn-search-primary {
                padding: 0.875rem 1.5rem;
            }

            .event-details {
                flex-direction: column;
                gap: 0.5rem;
            }

            .event-actions {
                flex-direction: column;
            }
        }

        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .loading-shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }
    </style>

    <script>
        // Sample events data - In real application, this would come from API
        const eventsData = [
            {
                id: 1,
                title: "Christmas Music Concert",
                description: "A magical evening of Christmas melodies featuring renowned local and international artists performing holiday classics.",
                category: "music",
                date: "2025-12-25",
                time: "7:00 PM",
                location: "Colombo",
                venue: "BMICH, Colombo",
                price: 2500,
                image: "picture/event-concert.jpg",
                organizer: "Music Events Lanka",
                availableTickets: 450,
                totalTickets: 500
            },
            {
                id: 2,
                title: "Tech Innovation Summit 2025",
                description: "Join industry leaders and innovators for insights into the future of technology in Sri Lanka and beyond.",
                category: "business",
                date: "2025-01-15",
                time: "9:00 AM",
                location: "Kandy",
                venue: "Kandy City Center",
                price: 5000,
                image: "picture/event-tech.jpg",
                organizer: "Tech Lanka",
                availableTickets: 280,
                totalTickets: 300
            },
            {
                id: 3,
                title: "Colombo Food Festival",
                description: "Experience the best of Sri Lankan cuisine with over 50 restaurants and food vendors showcasing authentic flavors.",
                category: "food",
                date: "2025-02-10",
                time: "11:00 AM",
                location: "Colombo",
                venue: "Galle Face Green",
                price: 1500,
                image: "picture/event-food.jpg",
                organizer: "Food Festival Lanka",
                availableTickets: 750,
                totalTickets: 1000
            },
            {
                id: 4,
                title: "Cricket World Cup Final Screening",
                description: "Watch the cricket world cup final on a giant screen with fellow cricket enthusiasts and enjoy great food.",
                category: "sports",
                date: "2025-03-05",
                time: "2:00 PM",
                location: "Galle",
                venue: "Galle International Stadium",
                price: 1000,
                image: "picture/event-sports.jpg",
                organizer: "Sports Events Lanka",
                availableTickets: 2000,
                totalTickets: 2500
            },
            {
                id: 5,
                title: "Contemporary Art Exhibition",
                description: "Discover the works of emerging and established Sri Lankan contemporary artists in this curated exhibition.",
                category: "arts",
                date: "2025-01-20",
                time: "10:00 AM",
                location: "Colombo",
                venue: "National Art Gallery",
                price: 500,
                image: "picture/event-art.jpg",
                organizer: "Art Gallery Colombo",
                availableTickets: 150,
                totalTickets: 200
            },
            {
                id: 6,
                title: "Startup Pitch Competition",
                description: "Watch innovative startups pitch their ideas to a panel of experienced investors and industry experts.",
                category: "business",
                date: "2025-02-15",
                time: "6:00 PM",
                location: "Negombo",
                venue: "Negombo Business Center",
                price: 2000,
                image: "picture/event-startup.jpg",
                organizer: "Startup Lanka",
                availableTickets: 120,
                totalTickets: 150
            },
            {
                id: 7,
                title: "Jazz Night Under the Stars",
                description: "An enchanting evening of smooth jazz music performed by local and international jazz musicians.",
                category: "music",
                date: "2025-01-30",
                time: "8:00 PM",
                location: "Kandy",
                venue: "Royal Botanical Gardens",
                price: 3500,
                image: "picture/event-jazz.jpg",
                organizer: "Jazz Society Lanka",
                availableTickets: 180,
                totalTickets: 200
            },
            {
                id: 8,
                title: "Healthy Living Workshop",
                description: "Learn about nutrition, fitness, and mental wellness from certified health professionals and nutritionists.",
                category: "health",
                date: "2025-02-28",
                time: "9:00 AM",
                location: "Colombo",
                venue: "Colombo Medical Center",
                price: 1200,
                image: "picture/event-health.jpg",
                organizer: "Wellness Lanka",
                availableTickets: 80,
                totalTickets: 100
            }
        ];

        let filteredEvents = [...eventsData];
        let currentPage = 1;
        let itemsPerPage = 6;
        let currentView = 'grid';

        document.addEventListener('DOMContentLoaded', function () {
            initializePage();
            loadEvents();
            setupEventListeners();
        });

        function initializePage() {
            // Get URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            
            // Set filter values from URL
            if (urlParams.get('category')) {
                document.getElementById('filterCategory').value = urlParams.get('category');
            }
            if (urlParams.get('date')) {
                document.getElementById('filterDate').value = urlParams.get('date');
            }
            if (urlParams.get('location')) {
                document.getElementById('filterLocation').value = urlParams.get('location');
            }

            // Apply filters if any were set
            if (urlParams.toString()) {
                applyFilters();
            }
        }

        function setupEventListeners() {
            // Mobile menu auto-close
            const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
            const navbarCollapse = document.querySelector('.navbar-collapse');

            navLinks.forEach(link => {
                link.addEventListener('click', function () {
                    if (window.innerWidth < 992) {
                        const bsCollapse = bootstrap.Collapse.getInstance(navbarCollapse) ||
                            new bootstrap.Collapse(navbarCollapse);
                        bsCollapse.hide();
                    }
                });
            });

            // Category dropdown clicks
            document.querySelectorAll('[data-category]').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const category = this.getAttribute('data-category');
                    document.getElementById('filterCategory').value = category;
                    applyFilters();
                });
            });

            // Search on Enter key
            document.getElementById('searchQuery').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
        }

        function performSearch() {
            const query = document.getElementById('searchQuery').value.toLowerCase();
            
            if (!query.trim()) {
                filteredEvents = [...eventsData];
            } else {
                filteredEvents = eventsData.filter(event => 
                    event.title.toLowerCase().includes(query) ||
                    event.description.toLowerCase().includes(query) ||
                    event.organizer.toLowerCase().includes(query) ||
                    event.venue.toLowerCase().includes(query)
                );
            }
            
            currentPage = 1;
            loadEvents();
        }

        function applyFilters() {
            const category = document.getElementById('filterCategory').value;
            const dateFilter = document.getElementById('filterDate').value;
            const location = document.getElementById('filterLocation').value;
            const price = document.getElementById('filterPrice').value;
            const query = document.getElementById('searchQuery').value.toLowerCase();

            filteredEvents = eventsData.filter(event => {
                let matches = true;

                // Text search
                if (query) {
                    matches = matches && (
                        event.title.toLowerCase().includes(query) ||
                        event.description.toLowerCase().includes(query) ||
                        event.organizer.toLowerCase().includes(query) ||
                        event.venue.toLowerCase().includes(query)
                    );
                }

                // Category filter
                if (category) {
                    matches = matches && event.category === category;
                }

                // Location filter
                if (location) {
                    matches = matches && event.location.toLowerCase() === location;
                }

                // Date filter
                if (dateFilter) {
                    const eventDate = new Date(event.date);
                    const today = new Date();
                    const tomorrow = new Date(today);
                    tomorrow.setDate(today.getDate() + 1);

                    switch(dateFilter) {
                        case 'today':
                            matches = matches && isSameDay(eventDate, today);
                            break;
                        case 'tomorrow':
                            matches = matches && isSameDay(eventDate, tomorrow);
                            break;
                        case 'this-week':
                            matches = matches && isThisWeek(eventDate);
                            break;
                        case 'this-weekend':
                            matches = matches && isThisWeekend(eventDate);
                            break;
                        case 'next-week':
                            matches = matches && isNextWeek(eventDate);
                            break;
                        case 'this-month':
                            matches = matches && isThisMonth(eventDate);
                            break;
                        case 'next-month':
                            matches = matches && isNextMonth(eventDate);
                            break;
                    }
                }

                // Price filter
                if (price) {
                    switch(price) {
                        case 'free':
                            matches = matches && event.price === 0;
                            break;
                        case '0-1000':
                            matches = matches && event.price >= 0 && event.price <= 1000;
                            break;
                        case '1000-5000':
                            matches = matches && event.price > 1000 && event.price <= 5000;
                            break;
                        case '5000-10000':
                            matches = matches && event.price > 5000 && event.price <= 10000;
                            break;
                        case '10000+':
                            matches = matches && event.price > 10000;
                            break;
                    }
                }

                return matches;
            });

            currentPage = 1;
            loadEvents();
            updateActiveFilters();
        }

        function clearFilters() {
            document.getElementById('searchQuery').value = '';
            document.getElementById('filterCategory').value = '';
            document.getElementById('filterDate').value = '';
            document.getElementById('filterLocation').value = '';
            document.getElementById('filterPrice').value = '';
            
            filteredEvents = [...eventsData];
            currentPage = 1;
            loadEvents();
            updateActiveFilters();

            // Clear URL parameters
            const url = new URL(window.location);
            url.search = '';
            window.history.pushState({}, '', url);
        }

        function sortEvents() {
            const sortBy = document.getElementById('sortBy').value;
            
            filteredEvents.sort((a, b) => {
                switch(sortBy) {
                    case 'date':
                        return new Date(a.date) - new Date(b.date);
                    case 'date-desc':
                        return new Date(b.date) - new Date(a.date);
                    case 'price':
                        return a.price - b.price;
                    case 'price-desc':
                        return b.price - a.price;
                    case 'name':
                        return a.title.localeCompare(b.title);
                    case 'name-desc':
                        return b.title.localeCompare(a.title);
                    case 'popular':
                        return (b.totalTickets - b.availableTickets) - (a.totalTickets - a.availableTickets);
                    default:
                        return 0;
                }
            });
            
            loadEvents();
        }

        function changeView(view) {
            currentView = view;
            
            // Update button states
            document.querySelectorAll('.btn-view').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-view="${view}"]`).classList.add('active');
            
            loadEvents();
        }

        function loadEvents() {
            showLoading();
            
            setTimeout(() => {
                displayEvents();
                updateResultsCount();
                generatePagination();
                hideLoading();
            }, 500);
        }

        function displayEvents() {
            const container = document.getElementById('eventsContainer');
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const eventsToShow = filteredEvents.slice(startIndex, endIndex);

            if (eventsToShow.length === 0) {
                document.getElementById('noResultsState').style.display = 'block';
                container.innerHTML = '';
                document.getElementById('pagination').innerHTML = '';
                return;
            }

            document.getElementById('noResultsState').style.display = 'none';
            
            // Set container class based on view
            container.className = currentView === 'grid' ? 'events-grid' : 'events-list';
            
            container.innerHTML = eventsToShow.map(event => createEventCard(event)).join('');
            
            // Add fade-in animation
            container.querySelectorAll('.event-card').forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('fade-in');
                }, index * 100);
            });
        }

        function createEventCard(event) {
            const eventDate = new Date(event.date);
            const month = eventDate.toLocaleDateString('en-US', { month: 'short' });
            const day = eventDate.getDate();
            const soldPercentage = ((event.totalTickets - event.availableTickets) / event.totalTickets * 100).toFixed(0);
            
            const viewClass = currentView === 'list' ? 'list-view' : '';
            
            return `
                <div class="event-card ${viewClass}">
                    <div class="event-card-image">
                        <img src="${event.image}" alt="${event.title}" class="img-fluid">
                        <div class="event-badge">${getCategoryDisplayName(event.category)}</div>
                        <div class="event-date">
                            <span class="date-month">${month}</span>
                            <span class="date-day">${day}</span>
                        </div>
                    </div>
                    <div class="event-card-content">
                        <h4 class="event-title">${event.title}</h4>
                        <p class="event-description">${event.description}</p>
                        <div class="event-details">
                            <div class="detail-item">
                                <i class="bi bi-clock"></i>
                                <span>${event.time}</span>
                            </div>
                            <div class="detail-item">
                                <i class="bi bi-geo-alt"></i>
                                <span>${event.venue}</span>
                            </div>
                            <div class="detail-item">
                                <i class="bi bi-currency-dollar"></i>
                                <span class="event-price">${event.price === 0 ? 'Free' : 'From Rs. ' + event.price.toLocaleString()}</span>
                            </div>
                            <div class="detail-item">
                                <i class="bi bi-people"></i>
                                <span>${event.availableTickets} tickets left</span>
                            </div>
                        </div>
                        <div class="event-actions">
                            <a href="event-details.html?id=${event.id}" class="btn btn-event-primary">
                                <i class="bi bi-ticket me-1"></i>View Details
                            </a>
                            <button class="btn btn-event-secondary" onclick="toggleFavorite(${event.id}, this)" title="Add to Favorites">
                                <i class="bi bi-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function getCategoryDisplayName(category) {
            const categories = {
                'music': 'Music',
                'sports': 'Sports',
                'arts': 'Arts & Culture',
                'business': 'Business',
                'food': 'Food & Drink',
                'technology': 'Technology',
                'health': 'Health & Wellness',
                'education': 'Education'
            };
            return categories[category] || category;
        }

        function updateResultsCount() {
            const total = filteredEvents.length;
            const startIndex = (currentPage - 1) * itemsPerPage + 1;
            const endIndex = Math.min(currentPage * itemsPerPage, total);
            
            const countText = total === 0 ? 'No events found' : 
                             total === 1 ? 'Showing 1 event' :
                             total <= itemsPerPage ? `Showing all ${total} events` :
                             `Showing ${startIndex}-${endIndex} of ${total} events`;
            
            document.getElementById('resultsCount').textContent = countText;
        }

        function updateActiveFilters() {
            const container = document.getElementById('activeFilters');
            const filters = [];
            
            const category = document.getElementById('filterCategory').value;
            const dateFilter = document.getElementById('filterDate').value;
            const location = document.getElementById('filterLocation').value;
            const price = document.getElementById('filterPrice').value;
            const query = document.getElementById('searchQuery').value;

            if (query) {
                filters.push({ type: 'search', value: query, label: `Search: "${query}"` });
            }
            if (category) {
                filters.push({ type: 'category', value: category, label: getCategoryDisplayName(category) });
            }
            if (dateFilter) {
                filters.push({ type: 'date', value: dateFilter, label: getDateFilterLabel(dateFilter) });
            }
            if (location) {
                filters.push({ type: 'location', value: location, label: location.charAt(0).toUpperCase() + location.slice(1) });
            }
            if (price) {
                filters.push({ type: 'price', value: price, label: getPriceFilterLabel(price) });
            }

            container.innerHTML = filters.map(filter => 
                `<div class="filter-tag">
                    ${filter.label}
                    <span class="remove-filter" onclick="removeFilter('${filter.type}')">&times;</span>
                </div>`
            ).join('');
        }

        function removeFilter(type) {
            switch(type) {
                case 'search':
                    document.getElementById('searchQuery').value = '';
                    break;
                case 'category':
                    document.getElementById('filterCategory').value = '';
                    break;
                case 'date':
                    document.getElementById('filterDate').value = '';
                    break;
                case 'location':
                    document.getElementById('filterLocation').value = '';
                    break;
                case 'price':
                    document.getElementById('filterPrice').value = '';
                    break;
            }
            applyFilters();
        }

        function getDateFilterLabel(value) {
            const labels = {
                'today': 'Today',
                'tomorrow': 'Tomorrow',
                'this-week': 'This Week',
                'this-weekend': 'This Weekend',
                'next-week': 'Next Week',
                'this-month': 'This Month',
                'next-month': 'Next Month'
            };
            return labels[value] || value;
        }

        function getPriceFilterLabel(value) {
            const labels = {
                'free': 'Free',
                '0-1000': 'Under Rs. 1,000',
                '1000-5000': 'Rs. 1,000 - 5,000',
                '5000-10000': 'Rs. 5,000 - 10,000',
                '10000+': 'Above Rs. 10,000'
            };
            return labels[value] || value;
        }

        function generatePagination() {
            const totalPages = Math.ceil(filteredEvents.length / itemsPerPage);
            const container = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                container.innerHTML = '';
                return;
            }

            let paginationHTML = '';
            
            // Previous button
            paginationHTML += `
                <li class="page-item ${currentPage === 1 ? 'disabled' : ''}">
                    <a class="page-link" href="#" onclick="changePage(${currentPage - 1})">
                        <i class="bi bi-chevron-left"></i>
                    </a>
                </li>
            `;
            
            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 2 && i <= currentPage + 2)) {
                    paginationHTML += `
                        <li class="page-item ${i === currentPage ? 'active' : ''}">
                            <a class="page-link" href="#" onclick="changePage(${i})">${i}</a>
                        </li>
                    `;
                } else if (i === currentPage - 3 || i === currentPage + 3) {
                    paginationHTML += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
                }
            }
            
            // Next button
            paginationHTML += `
                <li class="page-item ${currentPage === totalPages ? 'disabled' : ''}">
                    <a class="page-link" href="#" onclick="changePage(${currentPage + 1})">
                        <i class="bi bi-chevron-right"></i>
                    </a>
                </li>
            `;
            
            container.innerHTML = paginationHTML;
        }

        function changePage(page) {
            const totalPages = Math.ceil(filteredEvents.length / itemsPerPage);
            
            if (page < 1 || page > totalPages) return;
            
            currentPage = page;
            loadEvents();
            
            // Scroll to top of results
            document.querySelector('.results-section').scrollIntoView({ behavior: 'smooth' });
        }

        function toggleFavorite(eventId, button) {
            const icon = button.querySelector('i');
            const isLiked = button.classList.contains('liked');
            
            if (isLiked) {
                button.classList.remove('liked');
                icon.classList.remove('bi-heart-fill');
                icon.classList.add('bi-heart');
                button.title = 'Add to Favorites';
                
                // Remove from localStorage
                let favorites = JSON.parse(localStorage.getItem('favoriteEvents') || '[]');
                favorites = favorites.filter(id => id !== eventId);
                localStorage.setItem('favoriteEvents', JSON.stringify(favorites));
                
                Swal.fire({
                    title: 'Removed from Favorites',
                    text: 'Event removed from your favorites',
                    icon: 'info',
                    timer: 2000,
                    timerProgressBar: true,
                    showConfirmButton: false,
                    position: 'top-end',
                    toast: true
                });
            } else {
                button.classList.add('liked');
                icon.classList.remove('bi-heart');
                icon.classList.add('bi-heart-fill');
                button.title = 'Remove from Favorites';
                
                // Add to localStorage
                let favorites = JSON.parse(localStorage.getItem('favoriteEvents') || '[]');
                favorites.push(eventId);
                localStorage.setItem('favoriteEvents', JSON.stringify(favorites));
                
                Swal.fire({
                    title: 'Added to Favorites',
                    text: 'Event added to your favorites',
                    icon: 'success',
                    timer: 2000,
                    timerProgressBar: true,
                    showConfirmButton: false,
                    position: 'top-end',
                    toast: true
                });
            }
        }

        function saveSearch() {
            const searchData = {
                query: document.getElementById('searchQuery').value,
                category: document.getElementById('filterCategory').value,
                date: document.getElementById('filterDate').value,
                location: document.getElementById('filterLocation').value,
                price: document.getElementById('filterPrice').value,
                timestamp: new Date().toISOString()
            };

            let savedSearches = JSON.parse(localStorage.getItem('savedSearches') || '[]');
            
            // Check if similar search already exists
            const existingSearch = savedSearches.find(search => 
                search.query === searchData.query &&
                search.category === searchData.category &&
                search.date === searchData.date &&
                search.location === searchData.location &&
                search.price === searchData.price
            );

            if (existingSearch) {
                Swal.fire({
                    title: 'Search Already Saved',
                    text: 'This search combination is already in your saved searches',
                    icon: 'info',
                    confirmButtonColor: '#6366f1'
                });
                return;
            }

            savedSearches.unshift(searchData);
            
            // Keep only last 10 searches
            if (savedSearches.length > 10) {
                savedSearches = savedSearches.slice(0, 10);
            }
            
            localStorage.setItem('savedSearches', JSON.stringify(savedSearches));
            
            Swal.fire({
                title: 'Search Saved',
                text: 'Your search criteria has been saved for quick access',
                icon: 'success',
                timer: 2000,
                timerProgressBar: true,
                showConfirmButton: false,
                position: 'top-end',
                toast: true
            });
        }

        function showLoading() {
            document.getElementById('loadingState').style.display = 'block';
            document.getElementById('eventsContainer').style.display = 'none';
        }

        function hideLoading() {
            document.getElementById('loadingState').style.display = 'none';
            document.getElementById('eventsContainer').style.display = 'block';
        }

        // Date helper functions
        function isSameDay(date1, date2) {
            return date1.getDate() === date2.getDate() &&
                   date1.getMonth() === date2.getMonth() &&
                   date1.getFullYear() === date2.getFullYear();
        }

        function isThisWeek(date) {
            const today = new Date();
            const startOfWeek = new Date(today);
            startOfWeek.setDate(today.getDate() - today.getDay());
            const endOfWeek = new Date(startOfWeek);
            endOfWeek.setDate(startOfWeek.getDate() + 6);
            
            return date >= startOfWeek && date <= endOfWeek;
        }

        function isThisWeekend(date) {
            const dayOfWeek = date.getDay();
            return (dayOfWeek === 0 || dayOfWeek === 6) && isThisWeek(date);
        }

        function isNextWeek(date) {
            const today = new Date();
            const startOfNextWeek = new Date(today);
            startOfNextWeek.setDate(today.getDate() - today.getDay() + 7);
            const endOfNextWeek = new Date(startOfNextWeek);
            endOfNextWeek.setDate(startOfNextWeek.getDate() + 6);
            
            return date >= startOfNextWeek && date <= endOfNextWeek;
        }

        function isThisMonth(date) {
            const today = new Date();
            return date.getMonth() === today.getMonth() && 
                   date.getFullYear() === today.getFullYear();
        }

        function isNextMonth(date) {
            const today = new Date();
            const nextMonth = new Date(today.getFullYear(), today.getMonth() + 1, 1);
            return date.getMonth() === nextMonth.getMonth() && 
                   date.getFullYear() === nextMonth.getFullYear();
        }

        // Initialize favorites on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const favorites = JSON.parse(localStorage.getItem('favoriteEvents') || '[]');
                favorites.forEach(eventId => {
                    const button = document.querySelector(`button[onclick*="${eventId}"]`);
                    if (button) {
                        button.classList.add('liked');
                        const icon = button.querySelector('i');
                        icon.classList.remove('bi-heart');
                        icon.classList.add('bi-heart-fill');
                        button.title = 'Remove from Favorites';
                    }
                });
            }, 600);
        });

        // Handle browser back/forward buttons
        window.addEventListener('popstate', function(event) {
            initializePage();
        });

        // Auto-save search preferences
        function updateSearchPreferences() {
            const preferences = {
                view: currentView,
                itemsPerPage: itemsPerPage,
                sortBy: document.getElementById('sortBy').value
            };
            localStorage.setItem('searchPreferences', JSON.stringify(preferences));
        }

        // Load search preferences
        function loadSearchPreferences() {
            const preferences = JSON.parse(localStorage.getItem('searchPreferences') || '{}');
            
            if (preferences.view) {
                changeView(preferences.view);
            }
            if (preferences.itemsPerPage) {
                itemsPerPage = preferences.itemsPerPage;
            }
            if (preferences.sortBy) {
                document.getElementById('sortBy').value = preferences.sortBy;
            }
        }

        // Call on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadSearchPreferences();
        });

        // Save preferences on changes
        document.getElementById('sortBy').addEventListener('change', updateSearchPreferences);
    </script>

</body>

</html>